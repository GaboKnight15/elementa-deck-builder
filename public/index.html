<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Elementa</title>
<link rel="stylesheet" href="style.css">
<link href="https://fonts.googleapis.com/css?family=Orbitron:wght@700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- LOGIN/SIGNUP -->
  <div id="login-menu">
    <form id="login-form">
      <input type="text" id="login-username-input" placeholder="Username" maxlength="20" autocomplete="username">
      <input type="email" id="login-email-input" placeholder="Email" autocomplete="email">
      <input type="password" id="login-password-input" placeholder="Password" autocomplete="current-password">
      <button id="login-btn" class="btn-primary" type="submit">Login</button>
      <button id="signup-btn" class="btn-primary" type="button">Sign Up</button> 
     </form>
     <div id="login-error" style="color:red;"></div>
   </div>
<div id="loading-overlay" style="position:fixed;left:0;top:0;width:100vw;height:100vh;z-index:9999;background:#181f2b;display:none;align-items:center;justify-content:center;">
  <div class="loader"></div>
</div>
<style>.loader {border: 8px solid #f3f3f3; border-top: 8px solid #ffe066; border-radius: 50%; width: 60px; height: 60px; animation: spin 1s linear infinite;}
@keyframes spin { 100% { transform: rotate(360deg); } }</style>

                              <!-- NAVIGATION -->
<div id="app-main">  

  
<!-- HOME -->
<section id="home-section" class="section">
  <div id="home-container" class="section-container">
    <div id="home-particles" style="position:absolute;top:0;left:0;width:100%;height:100%;z-index:0;pointer-events:none;"></div>
    <div id="home-header" class="section-header">
      <!-- LEFT: INFO STACK -->
      <div class="section-header-left">
        <div id="player-badge-container">
          <img id="player-badge-img" class="player-badge-img" src="OtherImages/PlayerLevel/Default.png" alt="Player Badge"
           style="width:56px; height:56px; border-radius:50%; cursor:pointer; border:3px solid #ffe066; box-shadow:0 1px 8px #0005; object-fit:cover;">
        </div>
        <div id="profile-info-stack">
          <!-- COINS -->
          <div id="currency-display">
            <span class="currency-display">
              <img class="currency-icon" src="OtherImages/Currency/Coins.png" alt="Coins">
              <span id="currency-amount">0</span>
            </span>
            <!-- ESSENCE -->
            <span class="currency-display">
              <img class="currency-icon" src="OtherImages/Icons/Essence.png" alt="Essence">
              <span id="essence-amount">0</span>
            </span>
          </div>
          <!-- PLAYER LEVEL -->
          <div id="player-level-widget"></div>
          <div id="player-power-widget">
            <img src="OtherImages/Icons/Power.png" alt="Power" style="width:24px;vertical-align:middle;margin-bottom: 5px;">
            <span id="player-power-label">0</span>
          </div>
        </div>
      </div>
      <!-- CENTER: PROFILE PIC -->
      <div class="section-header-center">
        <div id="profile-area">
          <img id="profile-pic" src="CardImages/Avatars/Default.png" alt="Profile">
        </div>
      </div>  
      <!-- RIGHT: HEADER ICONS -->
      <div class="section-header-right">
        <button id="add-coins-btn">100 Coins</button>
        <div style="position:relative; display:inline-block;">
          <img id="friends-icon" src="OtherImages/Icons/Friends.png" alt="Friends" class="header-action-icon">
          <span id="friends-notification-dot" class="header-notification-dot" style="display:none;"></span>
        </div>
        <span id="quests-icon-wrapper">
          <img src="OtherImages/Icons/Quest.png" alt="quests" id="quests-icon" class="header-action-icon" title="quests">
          <span id="quests-notification-dot" class="header-notification-dot" style="display:none;"></span>
        </span>
        <span id="achievements-icon-wrapper">
          <img src="OtherImages/Icons/Rewards.png" alt="Achievements" id="achievements-icon" class="header-action-icon" title="Achievements">
          <span id="achievements-notification-dot" class="header-notification-dot" style="display:none;"></span>
        </span>
        <span id="settings-burger-wrapper">
          <img src="OtherImages/Icons/Settings.png" alt="Settings" id="settings-burger" class="header-action-icon" title="Settings">
        </span>
      </div>
    </div>

    <!-- MENU ICONS -->
    <div id="home-menu-icons">
      <!-- CARDS -->
      <div class="home-menu-btn" data-section="gallery-section">
        <span class="home-menu-title">Collection</span>
        <img src="OtherImages/Icons/Gallery.png" alt="Gallery" class="home-menu-img"/>
      </div>
      <!-- DECKS -->
      <div class="home-menu-btn" data-section="builder-section">
        <span class="home-menu-title">Decks</span>
        <img src="OtherImages/Icons/Builder.png" alt="Builder" class="home-menu-img"/>
      </div>
      <!-- GAMEPLAY -->
      <div class="home-menu-btn" data-section="gameplay-section">
        <span class="home-menu-title">Play</span>
        <img src="OtherImages/Icons/Gameplay.png" alt="Play" class="home-menu-img"/>
      </div>
      <!-- SHOP -->
      <div class="home-menu-btn" data-section="shop-section">
        <span class="home-menu-title">Market</span>
        <img src="OtherImages/Icons/Shop.png" alt="Shop" class="home-menu-img"/>
      </div>
      <!-- Add more as needed -->
    </div>
  </div>
</section>
                              <!-- GALLERY -->
<section id="gallery-section" class="section">
  <div id="gallery-container" class="section-container">
        <!-- SECTION HEADER START -->
    <div id="gallery-header" class="section-header">
      <div class="section-header-left">
        <img id="gallery-back-btn" src="OtherImages/Icons/Back.png" alt="Back" class="section-header-btn" title="Back" />
      </div>
      <div class="section-header-center">My Collection</div>
      <div class="section-header-right">
        <span id="gallery-essence-display" class="section-header-essence">
          <img src="OtherImages/Icons/Essence.png" alt="Essence" style="width:22px;height:22px;vertical-align:middle;">
          <span id="gallery-essence-amount">0</span>
        </span>
        <img id="gallery-settings-btn" src="OtherImages/Icons/Settings.png" alt="Settings" class="section-header-btn" title="Settings" />
      </div>
    </div>
<!-- FILTER GALLERY -->
<div id="filters-gallery" class="filter-row">
  <input type="text" id="filter-name-gallery" class="filter-name" placeholder="Search by name..." />
  <div class="filter-dropdown" id="filter-ownership-dropdown">
    <div class="filter-label" data-default="Ownership">Ownership</div>
    <div class="filter-options">
      <label class="filter-option"><input type="checkbox" value=""> All</label>
      <label class="filter-option"><input type="checkbox" value="Owned"> Owned</label>
      <label class="filter-option"><input type="checkbox" value="Undiscovered"> Undiscovered</label>
      <label class="filter-option"><input type="checkbox" value="Locked"> Locked</label>
    </div>
  </div>

  <!-- Custom Dropdown for Color -->
  <div class="filter-dropdown" id="filter-color-dropdown">
    <div class="filter-label" data-default="Color">Color</div>
    <div class="filter-options">
      <label class="filter-option"><input type="checkbox" value=""> All</label>
      <label class="filter-option"><input type="checkbox" value="Green"> Green</label>
      <label class="filter-option"><input type="checkbox" value="Red"> Red</label>
      <label class="filter-option"><input type="checkbox" value="Blue"> Blue</label>
      <label class="filter-option"><input type="checkbox" value="Gray"> Gray</label>
      <label class="filter-option"><input type="checkbox" value="Purple"> Purple</label>
      <label class="filter-option"><input type="checkbox" value="Yellow"> Yellow</label>
      <label class="filter-option"><input type="checkbox" value="Black"> Black</label>
      <label class="filter-option"><input type="checkbox" value="White"> White</label>
    </div>
  </div>

  <!-- Custom Dropdown for Category -->
  <div class="filter-dropdown" id="filter-category-dropdown">
    <div class="filter-label" data-default="Category">Category</div>
    <div class="filter-options">
      <label class="filter-option"><input type="checkbox" value=""> All</label>
      <label class="filter-option"><input type="checkbox" value="Creature"> Creature</label>
      <label class="filter-option"><input type="checkbox" value="Artifact"> Artifact</label>
      <label class="filter-option"><input type="checkbox" value="Spell"> Spell</label>
      <label class="filter-option"><input type="checkbox" value="Domain"> Domain</label>
    </div>
  </div>

  <!-- Custom Dropdown for Type -->
  <div class="filter-dropdown" id="filter-type-dropdown">
    <div class="filter-label" data-default="Type">Type</div>
    <div class="filter-options">
      <label class="filter-option"><input type="checkbox" value=""> All</label>
      <label class="filter-option"><input type="checkbox" value="Elemental"> Elemental</label>
      <label class="filter-option"><input type="checkbox" value="Dragon"> Dragon</label>
      <label class="filter-option"><input type="checkbox" value="Construct"> Construct</label>
      <label class="filter-option"><input type="checkbox" value="Beast"> Beast</label>
      <label class="filter-option"><input type="checkbox" value="Undead"> Undead</label>
      <label class="filter-option"><input type="checkbox" value="Demon"> Demon</label>
      <label class="filter-option"><input type="checkbox" value="Mage"> Mage</label>
      <label class="filter-option"><input type="checkbox" value="Equipment"> Equipment</label>
      <label class="filter-option"><input type="checkbox" value="Relic"> Relic</label>
    </div>
  </div>

  <!-- Custom Dropdown for Rarity -->
  <div class="filter-dropdown" id="filter-rarity-dropdown">
    <div class="filter-label" data-default="Rarity">Rarity</div>
    <div class="filter-options">
      <label class="filter-option"><input type="checkbox" value=""> All</label>
      <label class="filter-option"><input type="checkbox" value="Common"> Common</label>
      <label class="filter-option"><input type="checkbox" value="Rare"> Rare</label>
      <label class="filter-option"><input type="checkbox" value="Epic"> Epic</label>
      <label class="filter-option"><input type="checkbox" value="Legendary"> Legendary</label>
    </div>
  </div>
<!-- Custom Dropdown for Trait -->
<div class="filter-dropdown" id="filter-trait-dropdown">
  <div class="filter-label" data-default="Trait">Trait</div>
  <div class="filter-options">
    <label class="filter-option"><input type="checkbox" value=""> All</label>
    <label class="filter-option"><input type="checkbox" value="Champion"> Champion</label>
    <label class="filter-option"><input type="checkbox" value="Dominion"> Dominion</label>
    <label class="filter-option"><input type="checkbox" value="Evolution"> Evolution</label>
    <label class="filter-option"><input type="checkbox" value="Fusion"> Fusion</label>
  </div>
</div>
  <!-- Custom Dropdown for Archetype -->
  <div class="filter-dropdown" id="filter-archetype-dropdown">
    <div class="filter-label" data-default="Archetype">Archetype</div>
    <div class="filter-options">
      <label class="filter-option"><input type="checkbox" value=""> All</label>
      <label class="filter-option"><input type="checkbox" value="Blazefeather"> Blazefeather</label>
      <label class="filter-option"><input type="checkbox" value="Cindercore"> Cindercore</label>
      <label class="filter-option"><input type="checkbox" value="Coralbound"> Coralbound</label>
      <label class="filter-option"><input type="checkbox" value="Fireland"> Fireland</label>
      <label class="filter-option"><input type="checkbox" value="Frostland"> Frostland</label>
      <label class="filter-option"><input type="checkbox" value="Golemheart"> Golemheart</label>
      <label class="filter-option"><input type="checkbox" value="Moonfang"> Moonfang</label>
      <label class="filter-option"><input type="checkbox" value="Skullframe"> Skullframe</label>
      <label class="filter-option"><input type="checkbox" value="Voltwing"> Voltwing</label>
      <label class="filter-option"><input type="checkbox" value="Zephyra"> Zephyra</label>
    </div>
  </div>

  <!-- Custom Dropdown for Ability -->
  <div class="filter-dropdown" id="filter-ability-dropdown">
    <div class="filter-label" data-default="Ability">Ability</div>
    <div class="filter-options">
      <label class="filter-option"><input type="checkbox" value=""> All</label>
      <label class="filter-option"><input type="checkbox" value="Ambush"> Ambush</label>
      <label class="filter-option"><input type="checkbox" value="Dive"> Dive</label>
      <label class="filter-option"><input type="checkbox" value="Burn"> Burn</label>
      <label class="filter-option"><input type="checkbox" value="Drain"> Drain</label>
      <label class="filter-option"><input type="checkbox" value="Elusive"> Elusive</label>
      <label class="filter-option"><input type="checkbox" value="Flying"> Flying</label>
      <label class="filter-option"><input type="checkbox" value="Ice Armor"> Ice Armor</label>
      <label class="filter-option"><input type="checkbox" value="Immunity"> Immunity</label>
      <label class="filter-option"><input type="checkbox" value="Intimidate"> Intimidate</label>
      <label class="filter-option"><input type="checkbox" value="Leap"> Leap</label>
      <label class="filter-option"><input type="checkbox" value="Lifelink"> Lifelink</label>
      <label class="filter-option"><input type="checkbox" value="Protect"> Protect</label>
      <label class="filter-option"><input type="checkbox" value="Provoke"> Provoke</label>
      <label class="filter-option"><input type="checkbox" value="Ranged"> Ranged</label>
      <label class="filter-option"><input type="checkbox" value="Rush"> Rush</label>
      <label class="filter-option"><input type="checkbox" value="Toxic"> Toxic</label>
    </div>
  </div>

  <img id="filter-favorites-gallery" src="OtherImages/Icons/Star.png" alt="Favorites" title="Show only favorites"
    style="width:32px;height:32px;cursor:pointer;filter:grayscale(1);opacity:0.6;transition:filter 0.2s,opacity 0.2s;">
  <button id="reset-gallery-filters-btn"
    style="margin-left:10px;padding:6px 18px;border-radius:8px;background:#232a3c;color:#ffe066;font-weight:bold;border:1.5px solid #ffe066;cursor:pointer;">
    Reset Filters
  </button>
</div>
<div id="gallery-collection-progress" style="margin:10px 0; font-size:1.08em; color:#ffe066;"></div>
  <div id="gallery-cards"></div>
</div>  
</section>

  
                      <!-- DECK BUILDER -->
<section id="builder-section" class="section">  
  <div id="builder-container" class="section-container">
    <!-- DECK SELECTION HEADER (shown in deck grid view) -->
    <div id="deck-selection-header" class="section-header" style="display:flex;">
      <div class="section-header-left">
        <img id="deck-selection-back-btn" src="OtherImages/Icons/Back.png" alt="Back" class="section-header-btn" title="Back" />
      </div>
      <div class="section-header-center">My Decks</div>
      <div class="section-header-right">
        <img id="deck-selection-settings-btn" src="OtherImages/Icons/Settings.png" alt="Settings" class="section-header-btn" title="Settings" />
      </div>
    </div>
    <!-- DECK EDITOR HEADER (shown in deck editor view, hidden by default) -->
    <div id="builder-header" class="section-header" style="display:none;">
      <div class="section-header-left">
        <img id="builder-back-btn" src="OtherImages/Icons/Back.png" alt="Back" class="section-header-btn" title="Back" />
      </div>
      <div class="section-header-center">Edit Deck</div>
      <div class="section-header-right">
        <img id="builder-settings-btn" src="OtherImages/Icons/Settings.png" alt="Settings" class="section-header-btn" title="Settings" />
      </div>
    </div>
<!-- DECK SLOTS -->
    <div id="deck-selection-grid" class="grid"></div>
      <div id="deck-builder-ui">
        <div class="builder-main">
<!-- FILTER GALLERY BUILDER (custom dropdowns) -->
<div id="filters-builder" class="filter-row">
  <input type="text" id="filter-name-builder" class="filter-name" placeholder="Search by name..." />

  <!-- Color -->
  <div class="filter-dropdown" id="filter-color-builder-dropdown">
    <div class="filter-label" data-default="Color">Color</div>
    <div class="filter-options">
      <label class="filter-option"><input type="checkbox" value=""> All</label>
      <label class="filter-option"><input type="checkbox" value="Green"> Green</label>
      <label class="filter-option"><input type="checkbox" value="Red"> Red</label>
      <label class="filter-option"><input type="checkbox" value="Blue"> Blue</label>
      <label class="filter-option"><input type="checkbox" value="Gray"> Gray</label>
      <label class="filter-option"><input type="checkbox" value="Purple"> Purple</label>
      <label class="filter-option"><input type="checkbox" value="Yellow"> Yellow</label>
      <label class="filter-option"><input type="checkbox" value="Black"> Black</label>
      <label class="filter-option"><input type="checkbox" value="White"> White</label>
    </div>
  </div>

  <!-- Category -->
  <div class="filter-dropdown" id="filter-category-builder-dropdown">
    <div class="filter-label" data-default="Category">Category</div>
    <div class="filter-options">
      <label class="filter-option"><input type="checkbox" value=""> All</label>
      <label class="filter-option"><input type="checkbox" value="Creature"> Creature</label>
      <label class="filter-option"><input type="checkbox" value="Artifact"> Artifact</label>
      <label class="filter-option"><input type="checkbox" value="Spell"> Spell</label>
      <label class="filter-option"><input type="checkbox" value="Domain"> Domain</label>
    </div>
  </div>

  <!-- Type -->
  <div class="filter-dropdown" id="filter-type-builder-dropdown">
    <div class="filter-label" data-default="Type">Type</div>
    <div class="filter-options">
      <label class="filter-option"><input type="checkbox" value=""> All</label>
      <label class="filter-option"><input type="checkbox" value="Elemental"> Elemental</label>
      <label class="filter-option"><input type="checkbox" value="Dragon"> Dragon</label>
      <label class="filter-option"><input type="checkbox" value="Construct"> Construct</label>
      <label class="filter-option"><input type="checkbox" value="Beast"> Beast</label>
      <label class="filter-option"><input type="checkbox" value="Undead"> Undead</label>
      <label class="filter-option"><input type="checkbox" value="Demon"> Demon</label>
      <label class="filter-option"><input type="checkbox" value="Mage"> Mage</label>
      <label class="filter-option"><input type="checkbox" value="Equipment"> Equipment</label>
      <label class="filter-option"><input type="checkbox" value="Relic"> Relic</label>
    </div>
  </div>

  <!-- Rarity -->
  <div class="filter-dropdown" id="filter-rarity-builder-dropdown">
    <div class="filter-label" data-default="Rarity">Rarity</div>
    <div class="filter-options">
      <label class="filter-option"><input type="checkbox" value=""> All</label>
      <label class="filter-option"><input type="checkbox" value="Common"> Common</label>
      <label class="filter-option"><input type="checkbox" value="Rare"> Rare</label>
      <label class="filter-option"><input type="checkbox" value="Epic"> Epic</label>
      <label class="filter-option"><input type="checkbox" value="Legendary"> Legendary</label>
    </div>
  </div>
  
<!-- Custom Dropdown for Trait -->
<div class="filter-dropdown" id="filter-trait-dropdown">
  <div class="filter-label" data-default="Trait">Trait</div>
  <div class="filter-options">
    <label class="filter-option"><input type="checkbox" value=""> All</label>
    <label class="filter-option"><input type="checkbox" value="Champion"> Champion</label>
    <label class="filter-option"><input type="checkbox" value="Dominion"> Dominion</label>
    <label class="filter-option"><input type="checkbox" value="Evolution"> Evolution</label>
    <label class="filter-option"><input type="checkbox" value="Fusion"> Fusion</label>
  </div>
</div>
  <!-- Archetype -->
  <div class="filter-dropdown" id="filter-archetype-builder-dropdown">
    <div class="filter-label" data-default="Archetype">Archetype</div>
    <div class="filter-options">
      <label class="filter-option"><input type="checkbox" value=""> All</label>
      <label class="filter-option"><input type="checkbox" value="Blazefeather"> Blazefeather</label>
      <label class="filter-option"><input type="checkbox" value="Cindercore"> Cindercore</label>
      <label class="filter-option"><input type="checkbox" value="Coralbound"> Coralbound</label>
      <label class="filter-option"><input type="checkbox" value="Fireland"> Fireland</label>
      <label class="filter-option"><input type="checkbox" value="Frostland"> Frostland</label>
      <label class="filter-option"><input type="checkbox" value="Golemheart"> Golemheart</label>
      <label class="filter-option"><input type="checkbox" value="Moonfang"> Moonfang</label>
      <label class="filter-option"><input type="checkbox" value="Skullframe"> Skullframe</label>
      <label class="filter-option"><input type="checkbox" value="Voltwing"> Voltwing</label>
      <label class="filter-option"><input type="checkbox" value="Zephyra"> Zephyra</label>
    </div>
  </div>

  <!-- Ability -->
  <div class="filter-dropdown" id="filter-ability-builder-dropdown">
    <div class="filter-label" data-default="Ability">Ability</div>
    <div class="filter-options">
      <label class="filter-option"><input type="checkbox" value=""> All</label>
      <label class="filter-option"><input type="checkbox" value="Ambush"> Ambush</label>
      <label class="filter-option"><input type="checkbox" value="Dive"> Dive</label>
      <label class="filter-option"><input type="checkbox" value="Burn"> Burn</label>
      <label class="filter-option"><input type="checkbox" value="Drain"> Drain</label>
      <label class="filter-option"><input type="checkbox" value="Elusive"> Elusive</label>
      <label class="filter-option"><input type="checkbox" value="Flying"> Flying</label>
      <label class="filter-option"><input type="checkbox" value="Ice Armor"> Ice Armor</label>
      <label class="filter-option"><input type="checkbox" value="Immunity"> Immunity</label>
      <label class="filter-option"><input type="checkbox" value="Intimidate"> Intimidate</label>
      <label class="filter-option"><input type="checkbox" value="Leap"> Leap</label>
      <label class="filter-option"><input type="checkbox" value="Lifelink"> Lifelink</label>
      <label class="filter-option"><input type="checkbox" value="Protect"> Protect</label>
      <label class="filter-option"><input type="checkbox" value="Provoke"> Provoke</label>
      <label class="filter-option"><input type="checkbox" value="Ranged"> Ranged</label>
      <label class="filter-option"><input type="checkbox" value="Rush"> Rush</label>
      <label class="filter-option"><input type="checkbox" value="Toxic"> Toxic</label>
    </div>
  </div>

  <img id="filter-favorites-builder" src="OtherImages/Icons/Star.png" alt="Favorites" title="Show only favorites"
    style="width:32px;height:32px;cursor:pointer;filter:grayscale(1);opacity:0.6;transition:filter 0.2s,opacity 0.2s;">
  <button id="reset-builder-filters-btn"
    style="margin-left:10px;padding:6px 18px;border-radius:8px;background:#232a3c;color:#ffe066;font-weight:bold;border:1.5px solid #ffe066;cursor:pointer;">
    Reset Filters
  </button>
</div>
    <div id="gallery-builder-cards"></div>
  </div>    
        
    <div id="deck-panel">
      <div id="deck-title"></div>
      <button id="save-deck-btn" class="btn-primary" style="margin-bottom: 10px; width: 100%;">Save Deck</button>
      <div>Total: <span id="card-count">0</span>/50</div>
      <ul id="deck-list"></ul>
    </div>
  </div>
</div>  
</section>

                      <!-- GAME MODE SELECTION -->  
<section id="mode-select-section" class="section">
<div id="mode-select-container" class="section-container">
  <div id="gameplay-header" class="section-header">
    <div class="section-header-left">
      <img id="gameplay-back-btn" src="OtherImages/Icons/Back.png" alt="Back" class="section-header-btn" title="Back" />
    </div>
    <div class="section-header-center">Game Modes</div>
    <div class="section-header-right">
      <img id="gameplay-settings-btn" src="OtherImages/Icons/Settings.png" alt="Settings" class="section-header-btn" title="Settings" />
    </div>
  </div>
  <div class="mode-options">
    <div class="mode-option" data-mode="solo" tabindex="0" style="text-align:center;cursor:pointer;">
      <img src="OtherImages/Modes/Solo.png" alt="Solo" class="mode-menu-img"/>
      <div>Solo</div>
    </div>
    <div class="mode-option" data-mode="private" tabindex="0" style="text-align:center;cursor:pointer;">
      <img src="OtherImages/Modes/Private.png" alt="Private" class="mode-menu-img"/>
      <div>Private</div>
    </div>
    <div class="mode-option" data-mode="casual" tabindex="0" style="text-align:center;cursor:pointer;">
      <img src="OtherImages/Modes/Casual.png" alt="Casual" class="mode-menu-img"/>
      <div>Casual</div>
    </div>
    <div class="mode-option" data-mode="ranked" tabindex="0" style="text-align:center;cursor:pointer;">
      <img src="OtherImages/Modes/Ranked.png" alt="Ranked" class="mode-menu-img"/>
      <div>Ranked</div>
    </div>
  </div>
    <div id="mode-player-deck-slot" style="margin-top:32px; display:flex; flex-direction:column; align-items:center;">
    <div id="mode-player-deck-title" style="font-weight:bold; color:#ffe066; margin-bottom:8px;">Current Deck</div>
    <div id="mode-player-deck-tile" class="deck-slot-tile" style="cursor:pointer;"></div>
  </div>
</div>
</section>

  
                    <!-- BATTLEFIELD UI -->  
<section id="gameplay-section" class="section">  
<div id="gameplay-container" class="section-container">
  <!-- Back button -->
  <img id="battlefield-back-btn" src="OtherImages/Icons/Back.png" alt="Back" class="section-header-btn" title="Back" />
  <img id="battlefield-settings-btn" src="OtherImages/Icons/Settings.png" alt="Settings" class="section-header-btn" title="Settings" />
  <!-- Settings button -->
  <div id="battlefield-opponent-bg" class="battlefield-bg-half"></div>
  <div id="battlefield-player-bg" class="battlefield-bg-half"></div>
  
  <!-- BATTLEFIELD LEFTBAR -->
  <div id="battlefield-leftbar">
    <!-- OPPONENT PROFILE (BATTLEFIELD) -->
    <div id="opponent-profile" class="profile-panel">
      <div class="profile-banner-container">
        <img class="profile-banner" />
      </div>
      <div class="profile-panel-info-row">
        <img class="profile-avatar" />
        <span class="profile-username"></span>
      </div>
    </div>
    <!-- CHAT/LOG UI -->
    <div id="chat-ui">
      <div id="chat-log"></div>
      <div id="chat-input-row">
        <input id="chat-input" placeholder="Type message...">
        <button id="send-chat-btn">Send</button>
      </div>
    </div>
    <!-- MY PROFILE (BATTLEFIELD) -->
    <div id="my-profile" class="profile-panel">
      <div class="profile-banner-container">
        <img class="profile-banner" src="CardImages/Banners/DefaultBanner.png" alt="Banner" />
      </div>
      <div class="profile-panel-info-row">
        <img class="profile-avatar" src="CardImages/Avatars/Default.png" alt="Avatar" />
        <span class="profile-username">PlayerUsername</span>
      </div>
    </div>
  </div>
  
<!-- BATTLEFIELD CENTER -->  
<div id="battlefield" style="position:relative;">
  <div id="opponent-hand"           class="hand-area"></div>
  <div id="opponent-domains-zone"   class="zone-row"></div>
  <div id="opponent-creatures-zone" class="zone-row"></div>
  <div id="player-creatures-zone"   class="zone-row"></div>
  <div id="player-domains-zone"     class="zone-row"></div>
  <div id="player-hand"             class="hand-area"></div>
</div>
    
<!-- BATTLEFIELD RIGHTBAR -->
  <div id="battlefield-rightbar">
    <!-- BATTLEFIELD OPPONENT DECK/VOID -->
    <div id="opponent-count-row" class="deck-void-row"></div>
    <div id="opponent-deck-zone"></div>
    <div id="opponent-void-zone"></div>
    <!-- PHASES -->
    <div id="phase-badge"><button id="next-phase-btn" class="btn-primary"></button></div>
    <!-- BATTLEFIELD PLAYER DECK/VOID -->
    <div id="player-void-zone"></div>
    <div id="player-deck-zone"></div>
    <div id="player-count-row" class="deck-void-row"></div>
  </div>
</div>
</section>

                    <!-- SHOP -->
<section id="shop-section" class="section">
  <div id="shop-container" class="section-container">
    <div id="shop-header" class="section-header">
      <div class="section-header-left">
        <img id="shop-back-btn" src="OtherImages/Icons/Back.png" alt="Back" class="section-header-btn" title="Back" />
      </div>
      <div class="section-header-center">Shop</div>
      <div class="section-header-right">
        <span id="shop-currency-display" class="section-header-currency">
          <img src="OtherImages/Currency/Coins.png" alt="Currency" style="width:30px;height:30px;vertical-align:middle;">
          <span id="shop-currency-amount" class="currency-display">0</span>
        </span>
        <img id="shop-settings-btn" src="OtherImages/Icons/Settings.png" alt="Settings" class="section-header-btn" title="Settings" />
      </div>
    </div>
    <div id="pack-options"></div>
    <div id="shop-cosmetics">
      <div id="shop-profile-pics" class="shop-division">
      <h3>Avatars</h3>
        <div id="shop-avatars-grid" class= "grid"></div>
      </div>
    <div id="shop-banners" class="shop-division">
      <h3>Banners</h3>
      <div id="shop-banners-grid"></div>
    </div>
    <div id="shop-cardbacks" class="shop-division">
      <h3>Cardbacks</h3>
      <div id="shop-cardbacks-grid"></div>
    </div>
    <div id="shop-single-cards" class="shop-division"></div>
  </div>
</div>
</section>  
</div>

                                                          <!-- MODALS --> 
<!-- PROFILE MODAL -->
<div id="profile-modal" class="modal" style="display:none;">
  <div class="modal-content" id="profile-modal-content" style="max-width: 90vw;">
    <!-- Profile banner and profile info will be rendered here -->
  </div>
</div>
  
<!-- PROFILE ICONS MODAL -->
<div id="profile-icon-modal" class="modal">
  <div id="profile-icon-modal-content" class="modal-content">
    <h3>Choose your Avatar</h3>
    <div id="profile-icons"></div>
    <button id="close-profile-icon-modal" class="btn-negative">Cancel</button>
  </div>
</div>
<!-- BANNER MODAL -->
<div id="profile-banner-modal" class="modal">
  <div id="profile-banner-modal-content" class="modal-content">
    <h3>Choose your Banner</h3>
    <div id="profile-banners"></div>
    <button id="close-profile-banner-modal" class="btn-negative">Cancel</button>
  </div>
</div>
<!-- QUESTS MODAL -->
<div id="quests-modal" class="modal">
  <div class="modal-content">
    <div style="font-weight:bold;font-size:1.13em;">Quests</div>
    <div id="quests-columns" style="display:flex;gap:0;justify-content:space-between;align-items:flex-start;">
      <div style="flex:1;padding:0 18px;">
        <div id="quests-timer"></div>
        <div id="quests-list"></div>
      </div>
    </div>
    <button id="close-quests-modal" class="btn-negative-secondary">Close</button>
  </div>
</div>
<!-- ACHIEVEMENTS MODAL -->
<div id="achievements-modal" class="fullpage-modal" style="display:none;">
  <div class="achievements-sidebar">
    <button id="achievements-back-btn" class="btn-back">
      <img src="OtherImages/Icons/Back.png" alt="Back" style="width:34px;height:34px;vertical-align:middle;">
    </button>
    <div class="achievements-tabs">
      <button class="achievements-tab" data-category="general">General</button>
      <button class="achievements-tab" data-category="color">Colors</button>
      <button class="achievements-tab" data-category="archetype">Archetype</button>
      <button class="achievements-tab" data-category="progression">Progression</button>
      <!-- Add more as needed -->
    </div>
  </div>
  <div class="achievements-content">
    <div id="achievements-list"></div>
  </div>
</div>

<!-- FRIEND LIST MODAL -->
<div id="friends-modal" class="modal" style="display:none;">
  <div class="modal-content" style="min-width:580px;max-width:760px;padding:0;">
    <!-- Tab Navigation -->
    <div class="friends-tab-bar" style="display:flex;justify-content:center;gap:20px;margin:24px 0 12px 0;">
      <button id="tab-friends" class="friends-tab-btn selected">Friends</button>
      <button id="tab-discover" class="friends-tab-btn">Discover</button>
      <button id="tab-requests" class="friends-tab-btn">Requests</button>
      <button id="tab-blocked" class="friends-tab-btn">Blocked</button>
    </div>
    <!-- Friends Panel -->
    <div id="panel-friends" class="friends-tab-panel" style="display:;">
      <div id="friends-list"></div>
    </div>
    <div id="panel-discover" class="friends-tab-panel" style="display:none;">
      <div style="display:flex;align-items:center;justify-content:center;margin-bottom:16px;">
        <input type="text" id="discover-search-input" placeholder="Search by ID or Username"
          style="padding:7px 16px;font-size:1em;border-radius:7px;width:60%;border:1.5px solid #ffe066;background:#232a3c;color:#ffe066;">
        <button id="discover-search-btn" class="btn-secondary" style="margin-left:10px;">Search</button>
      </div>
      <div id="discover-users-list"></div>
    </div>
    <!-- Requests Panel -->
    <div id="panel-requests" class="friends-tab-panel" style="display:none;">
      <div style="display:flex;align-items:center;justify-content:center;margin-bottom:16px;">
        <img id="requests-search-trigger" src="OtherImages/Icons/View.png" alt="Search" title="Search"
          style="width:28px;height:28px;cursor:pointer;margin-right:10px;filter:brightness(1.2);">
        <input type="text" id="search-friends" placeholder="Search by ID or Username"
          style="padding:7px 16px;font-size:1em;border-radius:7px;width:60%;border:1.5px solid #ffe066;background:#232a3c;color:#ffe066;">
      </div>
      <div id="panel-requests-sent"></div>
      <div id="panel-requests-received"></div>
    </div>
    <!-- Blocked Panel -->
    <div id="panel-blocked" class="friends-tab-panel" style="display:none;">
      <!-- Blocked list rendered here -->
    </div>
    <button id="close-friends-modal" class="btn-negative-secondary" style="margin:18px auto 8px auto;display:block;">Close</button>
  </div>
</div>

<!-- PLAYER SEARCH MODAL -->
<div id="player-search-modal" class="modal" style="display:none;">
  <div class="modal-content" style="min-width:420px;max-width:540px;padding:0;display:flex;flex-direction:column;align-items:center;">
    <div style="width:100%;display:flex;align-items:center;justify-content:center;margin-top:28px;">
      <img id="player-search-trigger" src="OtherImages/Icons/View.png" alt="Search" title="Search"
        style="width:34px;height:34px;cursor:pointer;margin-right:10px;filter:brightness(1.2);">
      <input type="text" id="player-search-input" placeholder="Search by ID or Username"
        style="padding:9px 18px;font-size:1.1em;border-radius:8px;width:70%;border:2px solid #ffe066;background:#232a3c;color:#ffe066;">
    </div>
    <div id="player-search-results" style="margin-top:22px;width:90%;"></div>
    <button id="close-player-search-modal" class="btn-negative-secondary" style="margin:24px auto 10px auto;display:block;">Close</button>
  </div>
</div>

<!-- DECK VIEW MODAL -->
<div id="deck-view-modal" class="modal">
  <div class="modal-content">
    <h3 id="deck-view-modal-title"></h3>
    <div class="modal-card-list" id="deck-view-modal-list"></div>
    <button id="close-deck-view-modal-btn" class="btn-secondary">Close</button>
  </div>
</div>
<!-- BANNER MODAL DECK -->
<div id="deck-banner-modal" class="modal">
  <div class="modal-content">
    <h3>Banners</h3>
    <div id="deck-banner-art-list"></div>
    <button id="close-deck-banner-modal" class="btn-negative-secondary">Cancel</button>
  </div>
</div>
<!-- CARD BACK MODAL DECK -->
<div id="deck-cardback-modal" class="modal">
  <div class="modal-content">
    <h3>Cardbacks</h3>
    <div id="deck-cardback-art-list"></div>
    <button id="close-deck-cardback-modal" class="btn-negative-secondary">Cancel</button>
  </div>
</div>
<!-- BATTLEFIELD DECK MODAL -->
<div id="deck-selection-modal"></div>
<div id="deck-modal" class="modal">
  <div class="modal-content">
    <div class="modal-card-list"></div>
  </div>
</div>
<!-- BATTLEFIELD VOID MODAL -->
<div id="void-modal" class="modal">
  <div class="modal-content">
    <h3>Void</h3>
    <div class="modal-card-list"></div>
  </div>
</div>
<!-- SHOW FULL IMAGE -->
<div id="image-modal" class="modal">
  <div id="modal-img-content"></div>
</div>

<!-- CREATE/VOID CARDS -->
<div id="essence-confirm-modal" class="modal">
  <div class="essence-confirm-content">
    <div id="essence-confirm-msg"></div>
    <img id="essence-confirm-card-img" src="" alt="" class="essence-confirm-card-img" />
    <div id="essence-confirm-amount" style="margin: 10px 0;"></div>
    <div class="essence-confirm-btn-row">
      <button id="essence-confirm-btn" class="btn-secondary">✓</button>
      <button id="essence-cancel-btn" class="btn-negative-secondary">✕</button>
    </div>
  </div>
</div>  
<!-- HIGHLIGHT CARD IN BUILDER -->
<div id="highlight-art-modal" class="modal">
  <div class="modal-content">
    <h3>Select Highlight Artwork</h3>
    <div id="highlight-art-list"></div>
    <button id="close-highlight-art-btn" class="btn-negative-secondary">Close</button>
  </div>
</div>
<!-- PACK OPENING MODAL -->
<div id="pack-opening-modal" class="modal">
  <div class="modal-content" id="pack-opening-modal-content" style="max-width: 980px;">
    <h3>Pack Opened!</h3>
    <div id="opened-pack-row-modal" style="display:flex;flex-wrap:wrap;justify-content:center;gap:12px;"></div>
    <button id="close-pack-opening-modal" class="btn-negative-secondary">Close</button>
  </div>
</div>

  <!-- CPU DECK SELECTION -->
<div id="cpu-deck-modal" class="modal">
  <div class="modal-content cpu-player-modal-content" style="max-width:900px;width:90vw;">
    <img id="cpu-back-btn" src="OtherImages/Icons/Back.png" alt="Back" style="position:absolute;top:16px;left:16px;width:36px;height:36px;cursor:pointer;z-index:2;"/>
    <div class="modal-title">Opponent Decks</div>
    <div id="cpu-deck-list"></div>
    <button id="close-cpu-deck-modal" class="btn-negative-secondary">Cancel</button>
  </div>
</div>

<!-- PLAYER DECK SELECTION -->
<div id="player-deck-modal" class="modal">
  <div class="modal-content cpu-player-modal-content" style="max-width:900px;width:90vw;">
    <img id="player-back-btn" src="OtherImages/Icons/Back.png" alt="Back" style="position:absolute;top:16px;left:16px;width:36px;height:36px;cursor:pointer;z-index:2;"/>
    <div class="modal-title">My Decks</div>
    <div id="player-deck-list"></div>
    <div class="modal-title" style="margin-top:28px;">Default Decks</div>
    <div id="default-player-deck-list"></div>
    <button id="close-player-deck-modal" class="btn-negative-secondary">Cancel</button>
  </div>
</div>

<!-- PRIVATE LOBBY MODAL -->
<div id="private-lobby-modal" class="modal">
  <div class="modal-content" style="max-width:400px;">
    <div class="modal-title">Private Lobby</div>
    <div id="private-lobby-options">
      <button id="create-lobby-btn" class="btn-primary">Create Lobby</button>
      <div style="margin: 12px 0; text-align: center;">or</div>
      <input id="join-lobby-code-input" placeholder="Enter Lobby Code..." style="width:90%;margin-bottom:8px;">
      <button id="join-lobby-btn" class="btn-secondary">Join Lobby</button>
      <button id="spectate-btn" class="btn-secondary">Spectate</button>
      <input id="spectate-room-input" placeholder="Room code to watch...">
    </div>
    <div id="lobby-created-view" style="display:none;text-align:center;">
      <div style="margin-bottom:8px;">Lobby Code:</div>
      <div id="lobby-code-display" style="font-size:1.4em;font-weight:bold;letter-spacing:2px;margin-bottom:8px;"></div>
      <div style="color:#bbb;">Waiting for opponent to join...</div>
      <button id="cancel-lobby-btn" class="btn-negative-secondary">Cancel</button>
    </div>
    <div id="lobby-join-status" style="display:none;color:#ffe066;text-align:center;margin-top:18px;"></div>
  </div>
</div>

<!-- CASUAL MODE --> 
<div id="casual-searching-modal" class="modal">
  <div class="modal-content">
    <h2>Searching for players...</h2>
    <div class="spinner"></div>
    <button id="cancel-casual-search-btn" class="btn-negative-secondary">Cancel</button>
  </div>
</div>

  
                                                  <!-- MENUS -->
<!-- PROFILE MENU -->
<div id="profile-menu" class="menu" style="display:none;">
  <div id="profile-account-section">
    <div id="profile-banner-container">
      <img id="profile-banner" src="CardImages/Banners/DefaultBanner.png" alt="Banner">
    </div>
    <div id="profile-info">
      <button id="profile-pic-btn" title="Change Avatar">
        <img id="profile-pic-menu" src="CardImages/Avatars/Default.png" alt="Profile">
      </button>
      <div id="profile-username-display"></div>
    </div>
  </div>
</div>
<!-- PLAYER BADGE MENU -->
<div id="player-badge-menu" class="menu" style="display:none;">
  <div style="margin-bottom: 7px;">
    <img id="player-badge-menu-img"
         src="OtherImages/PlayerLevel/Default.png"
         style="cursor:pointer; width:46px; height:46px; border-radius:50%; border:2px solid #ffe066; box-shadow:0 1px 8px #0005; margin-right:10px; vertical-align:middle;">
    <span>Level: <b id="player-badge-level-num">1</b></span>
  </div>
  <div style="margin-bottom: 7px;">Unique Cards Collected: <b id="player-badge-unique-cards">0</b></div>
  <!-- Add more info here later -->
</div>
<!-- SETTINGS MENU -->
<div id="settings-menu-pop" class="menu">
  <div id="settings-menu-inner">
    <div class="settings-item" id="settings-notices">
      <label>
        <span>Notices</span>
        <input type="checkbox" id="toggle-notices">
      </label>
    </div>
    <div class="settings-item" id="settings-music">
      <label>
        <span>Music</span>
        <input type="checkbox" id="toggle-music">
      </label>
    </div>
    <div class="settings-item" id="settings-logout">
      <button id="settings-logout-btn" class="btn-negative">Logout</button>
    </div>
  </div>
</div>
<!-- GALLERY CARD CONTEXT MENU -->
<div id="gallery-card-menu" class="menu" style="display:none; position:absolute; z-index:1000;">
  <div class="modal-content">
    <button id="gallery-card-view-btn" class="settings-item" style="width:100%;text-align:left;"> 
      <img src="OtherImages/Icons/View.png" alt="View" style="width:20px;vertical-align:middle;margin-right:10px;"> View
    </button>
    <button id="gallery-card-create-btn" class="settings-item" style="width:100%;text-align:left;">
      <img src="OtherImages/Icons/Essence.png" alt="Create" style="width:20px;vertical-align:middle;margin-right:10px;"> Create
    </button>
    <button id="gallery-card-void-btn" class="settings-item" style="width:100%;text-align:left;">
      <img src="OtherImages/Icons/Void.png" alt="Void" style="width:20px;vertical-align:middle;margin-right:10px;"> Void
    </button>
  </div>
</div>
    <!-- DECK MENU -->
<div id="deck-menu" class="menu" style="display:none;">
  <div class="deck-menu-content">
    <div id="deck-banner-container">
      <img id="deck-banner-img" src="CardImages/Banners/DefaultBanner.png" alt="Deck Banner">
    </div>
    <div id="deck-title-row">
      <h3 id="deck-menu-title"></h3>
      <span id="deck-card-count"></span>
      <img id="deck-cardback-img" src="OtherImages/Cardbacks/DefaultCardback.png" alt="Deck Cardback">
    </div>
    <button id="edit-deck-btn" class="btn-primary">Edit Deck</button>
    <img id="view-deck-img-btn" src="OtherImages/Icons/View.png" alt="View Deck"
      title="View Deck" style="width:38px;height:38px;cursor:pointer;margin:10px 0 0 0;display:block;">
    <button id="set-highlight-art-btn" class="btn-secondary">Highlight Card</button>
    <button id="rename-deck-btn" class="btn-secondary">Rename</button>
    <img id="delete-deck-img-btn" src="OtherImages/Icons/Trash.png" alt="Delete Deck"
      title="Delete Deck" style="width:38px;height:38px;cursor:pointer;margin:10px 0 0 0;display:block;">
    <button id="close-deck-menu-btn" class="btn-negative-secondary">Cancel</button>
  </div>
</div>
  
<!-- SOUND EFFECTS -->  
<audio id="card-flip-sound" src="SoundEffects/CardFlip.mp3" preload="auto"></audio>
  
<!-- Firebase App (the core Firebase SDK) -->
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
<!-- Firebase Authentication -->
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
<script src="firebase.js"></script>
<!-- SERVER -->  
<script src="/socket.io/socket.io.js"></script>
<script src="client.js"></script>
<!-- LOGIN -->
<script src="auth.js"></script>
<!-- APP -->
<script src="particles.js"></script>
<script src="animations.js"></script>
<script src="shared.js"></script>
<script src="friends.js"></script>
<script src="settings.js"></script>  
<script src="quest.js"></script>  
<script src="gallery.js"></script>
<script src="builder.js"></script>
<script src="modes.js"></script>
<script src="gameplay.js"></script>
<script src="shop.js"></script> 
 
</body> 
</html>

