<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Elementa</title>
<link rel="stylesheet" href="style.css">
<link href="https://fonts.googleapis.com/css?family=Orbitron:wght@700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- LOGIN/SIGNUP -->
  <div id="login-menu">
    <form id="login-form">
      <input type="text" id="login-username-input" placeholder="Username" maxlength="20" autocomplete="username">
      <input type="email" id="login-email-input" placeholder="Email" autocomplete="email">
      <input type="password" id="login-password-input" placeholder="Password" autocomplete="current-password">
      <button id="login-btn" class="btn-primary" type="submit">Login</button>
      <button id="signup-btn" class="btn-primary" type="button">Sign Up</button> 
     </form>
     <div id="login-error" style="color:red;"></div>
   </div>
<div id="loading-overlay" style="position:fixed;left:0;top:0;width:100vw;height:100vh;z-index:9999;background:#181f2b;display:none;align-items:center;justify-content:center;">
  <div class="loader"></div>
</div>
<style>.loader {border: 8px solid #f3f3f3; border-top: 8px solid #ffe066; border-radius: 50%; width: 60px; height: 60px; animation: spin 1s linear infinite;}
@keyframes spin { 100% { transform: rotate(360deg); } }</style>

                              <!-- NAVIGATION -->
<div id="app-main">  

  
<!-- HOME -->
<section id="home-section" class="section">
  <div id="home-container" class="section-container">
    <div id="home-particles" style="position:absolute;top:0;left:0;width:100%;height:100%;z-index:0;pointer-events:none;"></div>
    <div id="home-header" class="section-header">
      <!-- LEFT: INFO STACK -->
      <div class="section-header-left">
        <div id="player-badge-container">
          <img id="player-badge-img" class="player-badge-img" src="OtherImages/PlayerLevel/Default.png" alt="Player Badge"
           style="width:56px; height:56px; border-radius:50%; cursor:pointer; border:3px solid #ffe066; box-shadow:0 1px 8px #0005; object-fit:cover;">
        </div>
        <div id="profile-info-stack">
          <!-- COINS -->
          <div id="currency-display">
            <span class="currency-display">
              <img class="currency-icon" src="OtherImages/Currency/Coins.png" alt="Coins">
              <span id="currency-amount">0</span>
            </span>
            <!-- ESSENCE -->
            <span class="currency-display">
              <img class="currency-icon" src="OtherImages/Icons/Essence.png" alt="Essence">
              <span id="essence-amount">0</span>
            </span>
          </div>
          <!-- PLAYER LEVEL -->
          <div id="player-level-widget"></div>
          <div id="player-power-widget">
            <img src="OtherImages/Icons/Power.png" alt="Power" style="width:24px;vertical-align:middle;margin-bottom: 5px;">
            <span id="player-power-label">0</span>
          </div>
        </div>
      </div>
      <!-- CENTER: PROFILE PIC -->
      <div class="section-header-center">
        <div id="profile-area">
          <img id="profile-pic" src="CardImages/Avatars/Default.png" alt="Profile">
        </div>
      </div>  
      <!-- RIGHT: HEADER ICONS -->
      <div class="section-header-right">
        <button id="add-coins-btn">100 Coins</button>
        <div style="position:relative; display:inline-block;">
          <img id="friends-icon" src="OtherImages/Icons/Friends.png" alt="Friends" class="header-action-icon">
          <span id="friends-notification-dot" class="header-notification-dot" style="display:none;"></span>
        </div>
        <span id="quests-icon-wrapper">
          <img src="OtherImages/Icons/Quest.png" alt="quests" id="quests-icon" class="header-action-icon" title="quests">
          <span id="quests-notification-dot" class="header-notification-dot" style="display:none;"></span>
        </span>
        <span id="achievements-icon-wrapper">
          <img src="OtherImages/Icons/Rewards.png" alt="Achievements" id="achievements-icon" class="header-action-icon" title="Achievements">
          <span id="achievements-notification-dot" class="header-notification-dot" style="display:none;"></span>
        </span>
        <span id="settings-burger-wrapper">
          <img src="OtherImages/Icons/Settings.png" alt="Settings" id="settings-burger" class="header-action-icon" title="Settings">
        </span>
      </div>
    </div>

    <!-- MENU ICONS -->
    <div id="home-menu-icons">
      <!-- CARDS -->
      <div class="home-menu-btn" data-section="gallery-section">
        <span class="home-menu-title">Collection</span>
        <img src="OtherImages/Icons/Gallery.png" alt="Gallery" class="home-menu-img"/>
      </div>
      <!-- DECKS -->
      <div class="home-menu-btn" data-section="builder-section">
        <span class="home-menu-title">Decks</span>
        <img src="OtherImages/Icons/Builder.png" alt="Builder" class="home-menu-img"/>
      </div>
      <!-- GAMEPLAY -->
      <div class="home-menu-btn" data-section="gameplay-section">
        <span class="home-menu-title">Play</span>
        <img src="OtherImages/Icons/Gameplay.png" alt="Play" class="home-menu-img"/>
      </div>
      <!-- SHOP -->
      <div class="home-menu-btn" data-section="shop-section">
        <span class="home-menu-title">Market</span>
        <img src="OtherImages/Icons/Shop.png" alt="Shop" class="home-menu-img"/>
      </div>
      <!-- Add more as needed -->
    </div>
  </div>
</section>
                              <!-- GALLERY -->
<section id="gallery-section" class="section">
  <div id="gallery-container" class="section-container">
        <!-- SECTION HEADER START -->
    <div id="gallery-header" class="section-header">
      <div class="section-header-left">
        <img id="gallery-back-btn" src="OtherImages/Icons/Back.png" alt="Back" class="section-header-btn" title="Back" />
      </div>
      <div class="section-header-center">My Collection</div>
      <div class="section-header-right">
        <span id="gallery-essence-display" class="section-header-essence">
          <img src="OtherImages/Icons/Essence.png" alt="Essence" style="width:22px;height:22px;vertical-align:middle;">
          <span id="gallery-essence-amount">0</span>
        </span>
        <img id="gallery-settings-btn" src="OtherImages/Icons/Settings.png" alt="Settings" class="section-header-btn" title="Settings" />
      </div>
    </div>
<!-- FILTER GALLERY -->
  <div id="filters-gallery" class="filter-row">
      <input type="text" id="filter-name-gallery" placeholder="Search by name..." />
      <select id="filter-ownership-gallery" class="filter-select">
        <option value="Owned">Owned</option>
        <option value="Undiscovered">Undiscovered</option>
        <option value="Locked">Locked</option>
        <option value="All">All</option>
      </select>
      <select id="filter-color-gallery" class="filter-select">
        <option value="">Color</option><option value="Green">Green</option><option value="Red">Red</option>
        <option value="Blue">Blue</option><option value="Gray">Gray</option><option value="Purple">Purple</option>
        <option value="Yellow">Yellow</option><option value="Black">Black</option><option value="White">White</option>
      </select>
      <select id="filter-category-gallery" class="filter-select">
        <option value="">Category</option><option value="Creature">Creature</option><option value="Artifact">Artifact</option>
        <option value="Spell">Spell</option><option value="Domain">Domain</option>
      </select>
      <select id="filter-type-gallery" class="filter-select">
        <option value="">Type</option><option value="Evolution">Evolution</option><option value="Fusion">Fusion</option><option value="elemental">Elemental</option><option value="dragon">Dragon</option><option value="construct">Construct</option><option value="beast">Beast</option> <option value="undead">Undead</option><option value="demon">Demon</option>
        <option value="Mage">Mage</option><option value="Equipment">Equipment</option><option value="Relic">Relic</option>
      </select>
      <select id="filter-rarity-gallery" class="filter-select">
        <option value="">Rarity</option><option value="Common">Common</option><option value="Rare">Rare</option>
        <option value="Epic">Epic</option><option value="Legendary">Legendary</option>
      </select>
      <select id="filter-archetype-gallery" class="filter-select">
        <option value="">Archetype</option><option value="Blazefeather">Blazefeather</option><option value="Cindercore">Cindercore</option>
        <option value="Coralbound">Coralbound</option><option value="Frostlands">Frostlands</option>
        <option value="Golemheart">Golemheart</option><option value="Moonfang">Moonfang</option><option value="Skullframe">Skullframe</option><option value="Voltwing">Voltwing</option><option value="Zephyra">Zephyra</option>
      </select>
      <select id="filter-ability-gallery" class="filter-select">
        <option value="">Ability</option><option value="Ambush">Ambush</option>
        <option value="Dive">Dive</option><option value="Burn">Burn</option><option value="Drain">Drain</option>
        <option value="Elusive">Elusive</option><option value="Flying">Flying</option><option value="Ice Armor">Ice Armor</option><option value="immunity">Immunity</option>
        <option value="Intimidate">Intimidate</option><option value="Leap">Leap</option><option value="Lifelink">Lifelink</option>
        <option value="Protect">Protect</option><option value="Provoke">Provoke</option><option value="Ranged">Ranged</option>
        <option value="Rush">Rush</option><option value="Toxic">Toxic</option>
      </select>
  </div>
  <div id="gallery-collection-progress" style="margin:10px 0; font-size:1.08em; color:#ffe066;"></div>
  <div id="gallery-cards"></div>
</div>  
</section>

  
                      <!-- DECK BUILDER -->
<section id="builder-section" class="section">  
  <div id="builder-container" class="section-container">
    <!-- DECK SELECTION HEADER (shown in deck grid view) -->
    <div id="deck-selection-header" class="section-header" style="display:flex;">
      <div class="section-header-left">
        <img id="deck-selection-back-btn" src="OtherImages/Icons/Back.png" alt="Back" class="section-header-btn" title="Back" />
      </div>
      <div class="section-header-center">My Decks</div>
      <div class="section-header-right">
        <img id="deck-selection-settings-btn" src="OtherImages/Icons/Settings.png" alt="Settings" class="section-header-btn" title="Settings" />
      </div>
    </div>
    <!-- DECK EDITOR HEADER (shown in deck editor view, hidden by default) -->
    <div id="builder-header" class="section-header" style="display:none;">
      <div class="section-header-left">
        <img id="builder-back-btn" src="OtherImages/Icons/Back.png" alt="Back" class="section-header-btn" title="Back" />
      </div>
      <div class="section-header-center">Edit Deck</div>
      <div class="section-header-right">
        <img id="builder-settings-btn" src="OtherImages/Icons/Settings.png" alt="Settings" class="section-header-btn" title="Settings" />
      </div>
    </div>
<!-- DECK SLOTS -->
    <div id="deck-selection-grid" class="grid"></div>
      <div id="deck-builder-ui">
        <div class="builder-main">
  <!-- FILTER GALLERY BUILDER -->
  <div id="filters-builder" class="filter-row">
    <input type="text" id="filter-name-builder" class="filter-name" placeholder="Search by name..." />
    <select id="filter-color-builder" class="filter-select">
      <option value="">Color</option><option value="green">Green</option><option value="red">Red</option>
      <option value="blue">Blue</option><option value="gray">Gray</option><option value="purple">Purple</option>
      <option value="yellow">Yellow</option><option value="black">Black</option><option value="white">White</option>
    </select>
    <select id="filter-category-builder" class="filter-select">
      <option value="">Category</option><option value="creature">Creature</option><option value="artifact">Artifact</option>
      <option value="spell">Spell</option><option value="domain">Domain</option>
    </select>
    <select id="filter-type-builder" class="filter-select">
      <option value="">Type</option><option value="evolution">Evolution</option><option value="fusion">Fusion</option>
      <option value="elemental">Elemental</option><option value="dragon">Dragon</option><option value="construct">Construct</option>
      <option value="beast">Beast</option><option value="undead">Undead</option><option value="demon">Demon</option>
      <option value="mage">Mage</option><option value="equipment">Equipment</option><option value="relic">Relic</option>
    </select>
    <select id="filter-rarity-builder" class="filter-select">
      <option value="">Rarity</option><option value="Common">Common</option><option value="Rare">Rare</option>
      <option value="Epic">Epic</option><option value="Legendary">Legendary</option>
    </select>
    <select id="filter-archetype-builder" class="filter-select">
      <option value="">Archetype</option><option value="Blazefeather">Blazefeather</option><option value="Cindercore">Cindercore</option>
      <option value="Coralbound">Coralbound</option><option value="Frostlands">Frostlands</option><option value="Golemheart">Golemheart</option><option value="Moonfang">Moonfang</option>
      <option value="Skullframe">Skullframe</option><option value="Voltwing">Voltwing</option><option value="Zephyra">Zephyra</option>
    </select>
    <select id="filter-ability-builder" class="filter-select">
      <option value="">Ability</option><option value="ambush">Ambush</option>
      <option value="dive">Dive</option><option value="burn">Burn</option><option value="drain">Drain</option><option value="elusive">Elusive</option><option value="flying">Flying</option>
      <option value="ice armor">Ice Armor</option><option value="immunity">Immunity</option><option value="intimidate">Intimidate</option>
      <option value="leap">Leap</option><option value="lifelink">Lifelink</option><option value="protect">Protect</option>
      <option value="provoke">Provoke</option><option value="ranged">Ranged</option><option value="rush">Rush</option><option value="toxic">Toxic</option>
    </select>
  </div>
    <div id="gallery-builder-cards"></div>
  </div>    
        
    <div id="deck-panel">
      <div id="deck-title"></div>
      <p>Total Cards: <span id="card-count">0</span>/50</p>
      <ul id="deck-list"></ul>
    </div>
  </div>
</div>  
</section>

                      <!-- GAME MODE SELECTION -->  
<section id="mode-select-section" class="section">
<div id="mode-select-container" class="section-container">
  <div id="gameplay-header" class="section-header">
    <div class="section-header-left">
      <img id="gameplay-back-btn" src="OtherImages/Icons/Back.png" alt="Back" class="section-header-btn" title="Back" />
    </div>
    <div class="section-header-center">Game Modes</div>
    <div class="section-header-right">
      <img id="gameplay-settings-btn" src="OtherImages/Icons/Settings.png" alt="Settings" class="section-header-btn" title="Settings" />
    </div>
  </div>
  <div class="mode-options">
    <div class="mode-option" data-mode="solo" tabindex="0" style="text-align:center;cursor:pointer;">
      <img src="OtherImages/Modes/Solo.png" alt="Solo" class="mode-menu-img"/>
      <div>Solo</div>
    </div>
    <div class="mode-option" data-mode="private" tabindex="0" style="text-align:center;cursor:pointer;">
      <img src="OtherImages/Modes/Private.png" alt="Private" class="mode-menu-img"/>
      <div>Private</div>
    </div>
    <div class="mode-option" data-mode="casual" tabindex="0" style="text-align:center;cursor:pointer;">
      <img src="OtherImages/Modes/Casual.png" alt="Casual" class="mode-menu-img"/>
      <div>Casual</div>
    </div>
    <div class="mode-option" data-mode="ranked" tabindex="0" style="text-align:center;cursor:pointer;">
      <img src="OtherImages/Modes/Ranked.png" alt="Ranked" class="mode-menu-img"/>
      <div>Ranked</div>
    </div>
  </div>
    <div id="mode-player-deck-slot" style="margin-top:32px; display:flex; flex-direction:column; align-items:center;">
    <div id="mode-player-deck-title" style="font-weight:bold; color:#ffe066; margin-bottom:8px;">Current Deck</div>
    <div id="mode-player-deck-tile" class="deck-slot-tile" style="cursor:pointer;"></div>
  </div>
</div>
</section>

  
                    <!-- BATTLEFIELD UI -->  
<section id="gameplay-section" class="section">  
<div id="gameplay-container" class="section-container">
  <div id="battlefield-opponent-bg" class="battlefield-bg-half"></div>
  <div id="battlefield-player-bg" class="battlefield-bg-half"></div>
  
  <!-- BATTLEFIELD LEFTBAR -->
  <div id="battlefield-leftbar">
    <!-- OPPONENT PROFILE (BATTLEFIELD) -->
    <div id="opponent-profile" class="profile-panel">
      <div class="profile-banner-container">
        <img class="profile-banner" />
      </div>
      <div class="profile-panel-info-row">
        <img class="profile-avatar" />
        <span class="profile-username"></span>
      </div>
    </div>
    <!-- CHAT/LOG UI -->
    <div id="chat-ui">
      <div id="chat-log"></div>
      <div id="chat-input-row">
        <input id="chat-input" placeholder="Type message...">
        <button id="send-chat-btn">Send</button>
      </div>
    </div>
    <!-- MY PROFILE (BATTLEFIELD) -->
    <div id="my-profile" class="profile-panel">
      <div class="profile-banner-container">
        <img class="profile-banner" src="CardImages/Banners/DefaultBanner.png" alt="Banner" />
      </div>
      <div class="profile-panel-info-row">
        <img class="profile-avatar" src="CardImages/Avatars/Default.png" alt="Avatar" />
        <span class="profile-username">PlayerUsername</span>
      </div>
    </div>
  </div>
  
<!-- BATTLEFIELD CENTER -->  
<div id="battlefield" style="position:relative;">
  <div id="opponent-hand"           class="hand-area"></div>
  <div id="opponent-domains-zone"   class="zone-row"></div>
  <div id="opponent-creatures-zone" class="zone-row"></div>
  <div id="player-creatures-zone"   class="zone-row"></div>
  <div id="player-domains-zone"     class="zone-row"></div>
  <div id="player-hand"             class="hand-area"></div>
</div>
    
<!-- BATTLEFIELD RIGHTBAR -->
  <div id="battlefield-rightbar">
    <div id="battlefield-header" class="section-header">
      <div class="section-header-left">
        <img id="battlefield-back-btn" src="OtherImages/Icons/Back.png" alt="Back" class="section-header-btn" title="Back" />
      </div>
      <div class="section-header-right">
        <img id="battlefield-settings-btn" src="OtherImages/Icons/Settings.png" alt="Settings" class="section-header-btn" title="Settings" />
      </div>
    </div>
    <div id="opponent-deck-zone"></div>
    <div id="opponent-void-zone"></div>
  <!-- PHASES -->
    <div id="phase-badge">
      <button id="next-phase-btn" class="btn-primary"></button>
    </div>
    <div id="player-void-zone"></div>
    <div id="player-deck-zone"></div>
  </div>
</div>
</section>

                    <!-- SHOP -->
<section id="shop-section" class="section">
  <div id="shop-container" class="section-container">
    <div id="shop-header" class="section-header">
      <div class="section-header-left">
        <img id="shop-back-btn" src="OtherImages/Icons/Back.png" alt="Back" class="section-header-btn" title="Back" />
      </div>
      <div class="section-header-center">Shop</div>
      <div class="section-header-right">
        <span id="shop-currency-display" class="section-header-currency">
          <img src="OtherImages/Currency/Coins.png" alt="Currency" style="width:30px;height:30px;vertical-align:middle;">
          <span id="shop-currency-amount" class="currency-display">0</span>
        </span>
        <img id="shop-settings-btn" src="OtherImages/Icons/Settings.png" alt="Settings" class="section-header-btn" title="Settings" />
      </div>
    </div>
    <div id="pack-options">
      <img class="pack-image" src="CardImages/Packs/StandardPack.png" alt="Standard Pack" data-pack="StandardPack">
      <img class="pack-image" src="CardImages/Packs/StandardPack2.png" alt="Standard Pack 2" data-pack="StandardPack2">
    </div>
    <div id="shop-cosmetics">
      <div id="shop-profile-pics" class="shop-division">
      <h3>Avatars</h3>
        <div id="shop-avatars-grid" class= "grid"></div>
      </div>
    <div id="shop-banners" class="shop-division">
      <h3>Banners</h3>
      <div id="shop-banners-grid"></div>
    </div>
    <div id="shop-cardbacks" class="shop-division">
      <h3>Cardbacks</h3>
      <div id="shop-cardbacks-grid"></div>
    </div>
    <div id="shop-single-cards" class="shop-division"></div>
  </div>
</div>
</section>  
</div>

                                                          <!-- MODALS --> 
<!-- PROFILE ICONS MODAL -->
<div id="profile-icon-modal" class="modal">
  <div id="profile-icon-modal-content" class="modal-content">
    <h3>Choose your Avatar</h3>
    <div id="profile-icons"></div>
    <button id="close-profile-icon-modal" class="btn-negative">Cancel</button>
  </div>
</div>
<!-- BANNER MODAL -->
<div id="profile-banner-modal" class="modal">
  <div id="profile-banner-modal-content" class="modal-content">
    <h3>Choose your Banner</h3>
    <div id="profile-banners"></div>
    <button id="close-profile-banner-modal" class="btn-negative">Cancel</button>
  </div>
</div>
<!-- QUESTS MODAL -->
<div id="quests-modal" class="modal">
  <div class="modal-content">
    <div style="font-weight:bold;font-size:1.13em;">Quests</div>
    <div id="quests-columns" style="display:flex;gap:0;justify-content:space-between;align-items:flex-start;">
      <div style="flex:1;padding:0 18px;">
        <div id="quests-timer"></div>
        <div id="quests-list"></div>
      </div>
    </div>
    <button id="close-quests-modal" class="btn-negative-secondary">Close</button>
  </div>
</div>
<!-- ACHIEVEMENTS MODAL -->
<div id="achievements-modal" class="fullpage-modal" style="display:none;">
  <div class="achievements-sidebar">
    <button id="achievements-back-btn" class="btn-back">
      <img src="OtherImages/Icons/Back.png" alt="Back" style="width:34px;height:34px;vertical-align:middle;">
    </button>
    <div class="achievements-tabs">
      <button class="achievements-tab" data-category="general">General</button>
      <button class="achievements-tab" data-category="color">Colors</button>
      <button class="achievements-tab" data-category="archetype">Archetype</button>
      <button class="achievements-tab" data-category="progression">Progression</button>
      <!-- Add more as needed -->
    </div>
  </div>
  <div class="achievements-content">
    <div id="achievements-list"></div>
  </div>
</div>
<!-- FRIEND LIST MODAL -->  
<div id="friends-modal" class="modal">
  <div class="modal-content">
    <h2>Friends</h2>
    <input id="add-friend-id" placeholder="Enter Friend ID" />
    <button onclick="addFriend(document.getElementById('add-friend-id').value)">Add Friend</button>
    <div style="margin-bottom:1em;">
      <input id="add-friend-username" placeholder="Username" style="padding:4px 8px; border-radius:4px; border:1px solid #333;">
      <button onclick="sendFriendRequest(document.getElementById('add-friend-username').value)" style="margin-left:8px;">
        Add Friend
      </button>
    </div>
    <div id="friends-list"></div>
    <button id="close-friends-modal" class="btn-negative-secondary">Close</button>
  </div>
</div>
<!-- DECK VIEW MODAL -->
<div id="deck-view-modal" class="modal">
  <div class="modal-content">
    <h3 id="deck-view-modal-title"></h3>
    <div class="modal-card-list" id="deck-view-modal-list"></div>
    <button id="close-deck-view-modal-btn" class="btn-secondary">Close</button>
  </div>
</div>
<!-- BANNER MODAL DECK -->
<div id="deck-banner-modal" class="modal">
  <div class="modal-content">
    <h3>Banners</h3>
    <div id="deck-banner-art-list"></div>
    <button id="close-deck-banner-modal" class="btn-negative-secondary">Cancel</button>
  </div>
</div>
<!-- CARD BACK MODAL DECK -->
<div id="deck-cardback-modal" class="modal">
  <div class="modal-content">
    <h3>Cardbacks</h3>
    <div id="deck-cardback-art-list"></div>
    <button id="close-deck-cardback-modal" class="btn-negative-secondary">Cancel</button>
  </div>
</div>
<!-- BATTLEFIELD DECK MODAL -->
<div id="deck-selection-modal"></div>
<div id="deck-modal" class="modal">
  <div class="modal-content">
    <div class="modal-card-list"></div>
  </div>
</div>
<!-- BATTLEFIELD VOID MODAL -->
<div id="void-modal" class="modal">
  <div class="modal-content">
    <h3>Void</h3>
    <div class="modal-card-list"></div>
  </div>
</div>
<!-- SHOW FULL IMAGE -->
<div id="image-modal" class="modal">
  <div id="modal-img-content"></div>
</div>

<!-- CREATE/VOID CARDS -->
<div id="essence-confirm-modal" class="modal">
  <div class="essence-confirm-content">
    <div id="essence-confirm-msg"></div>
    <img id="essence-confirm-card-img" src="" alt="" class="essence-confirm-card-img" />
    <div id="essence-confirm-amount" style="margin: 10px 0;"></div>
    <div class="essence-confirm-btn-row">
      <button id="essence-confirm-btn" class="btn-secondary">✓</button>
      <button id="essence-cancel-btn" class="btn-negative-secondary">✕</button>
    </div>
  </div>
</div>  
<!-- HIGHLIGHT CARD IN BUILDER -->
<div id="highlight-art-modal" class="modal">
  <div class="modal-content">
    <h3>Select Highlight Artwork</h3>
    <div id="highlight-art-list"></div>
    <button id="close-highlight-art-btn" class="btn-negative-secondary">Close</button>
  </div>
</div>
<!-- PACK OPENING MODAL -->
<div id="pack-opening-modal" class="modal">
  <div class="modal-content" id="pack-opening-modal-content" style="max-width: 980px;">
    <h3>Pack Opened!</h3>
    <div id="opened-pack-row-modal" style="display:flex;flex-wrap:wrap;justify-content:center;gap:12px;"></div>
    <button id="close-pack-opening-modal" class="btn-negative-secondary">Close</button>
  </div>
</div>

  <!-- CPU DECK SELECTION -->
<div id="cpu-deck-modal" class="modal">
  <div class="modal-content cpu-player-modal-content" style="max-width:900px;width:90vw;">
    <img id="cpu-back-btn" src="OtherImages/Icons/Back.png" alt="Back" style="position:absolute;top:16px;left:16px;width:36px;height:36px;cursor:pointer;z-index:2;"/>
    <div class="modal-title">Opponent Decks</div>
    <div id="cpu-deck-list" style="display:flex;flex-wrap:wrap;gap:16px;justify-content:center;"></div>
    <button id="close-cpu-deck-modal" class="btn-negative-secondary">Cancel</button>
  </div>
</div>

<!-- PLAYER DECK SELECTION -->
<div id="player-deck-modal" class="modal">
  <div class="modal-content cpu-player-modal-content" style="max-width:900px;width:90vw;">
    <img id="player-back-btn" src="OtherImages/Icons/Back.png" alt="Back" style="position:absolute;top:16px;left:16px;width:36px;height:36px;cursor:pointer;z-index:2;"/>
    <div class="modal-title">My Decks</div>
    <div id="player-deck-list" style="display:flex;flex-wrap:wrap;justify-content:center;"></div>
    <div class="modal-title" style="margin-top:28px;">Default Decks</div>
    <div id="default-player-deck-list"></div>
    <button id="close-player-deck-modal" class="btn-negative-secondary">Cancel</button>
  </div>
</div>

<!-- PRIVATE LOBBY MODAL -->
<div id="private-lobby-modal" class="modal">
  <div class="modal-content" style="max-width:400px;">
    <div class="modal-title">Private Lobby</div>
    <div id="private-lobby-options">
      <button id="create-lobby-btn" class="btn-primary">Create Lobby</button>
      <div style="margin: 12px 0; text-align: center;">or</div>
      <input id="join-lobby-code-input" placeholder="Enter Lobby Code..." style="width:90%;margin-bottom:8px;">
      <button id="join-lobby-btn" class="btn-secondary">Join Lobby</button>
      <button id="spectate-btn" class="btn-secondary">Spectate</button>
      <input id="spectate-room-input" placeholder="Room code to watch...">
    </div>
    <div id="lobby-created-view" style="display:none;text-align:center;">
      <div style="margin-bottom:8px;">Lobby Code:</div>
      <div id="lobby-code-display" style="font-size:1.4em;font-weight:bold;letter-spacing:2px;margin-bottom:8px;"></div>
      <div style="color:#bbb;">Waiting for opponent to join...</div>
      <button id="cancel-lobby-btn" class="btn-negative-secondary">Cancel</button>
    </div>
    <div id="lobby-join-status" style="display:none;color:#ffe066;text-align:center;margin-top:18px;"></div>
  </div>
</div>

<!-- CASUAL MODE --> 
<div id="casual-searching-modal" class="modal">
  <div class="modal-content">
    <h2>Searching for players...</h2>
    <div class="spinner"></div>
    <button id="cancel-casual-search-btn" class="btn-negative-secondary">Cancel</button>
  </div>
</div>

  
                                                  <!-- MENUS -->
<!-- PROFILE MENU -->
<div id="profile-menu" class="menu" style="display:none;">
  <div id="profile-account-section">
    <div id="profile-banner-container">
      <img id="profile-banner" src="CardImages/Banners/DefaultBanner.png" alt="Banner">
    </div>
    <div id="profile-info">
      <button id="profile-pic-btn" title="Change Avatar">
        <img id="profile-pic-menu" src="CardImages/Avatars/Default.png" alt="Profile">
      </button>
      <div id="profile-username-display"></div>
    </div>
  </div>
</div>
<!-- PLAYER BADGE MENU -->
<div id="player-badge-menu" class="menu" style="display:none;">
  <div style="margin-bottom: 7px;">
    <img id="player-badge-menu-img"
         src="OtherImages/PlayerLevel/Default.png"
         style="width:46px; height:46px; border-radius:50%; border:2px solid #ffe066; box-shadow:0 1px 8px #0005; margin-right:10px; vertical-align:middle;">
    <span>Level: <b id="player-badge-level-num">1</b></span>
  </div>
  <div style="margin-bottom: 7px;">Unique Cards Collected: <b id="player-badge-unique-cards">0</b></div>
  <!-- Add more info here later -->
</div>
<!-- SETTINGS MENU -->
<div id="settings-menu-pop" class="menu">
  <div id="settings-menu-inner">
    <div class="settings-item" id="settings-notices">
      <label>
        <span>Notices</span>
        <input type="checkbox" id="toggle-notices">
      </label>
    </div>
    <div class="settings-item" id="settings-music">
      <label>
        <span>Music</span>
        <input type="checkbox" id="toggle-music">
      </label>
    </div>
    <div class="settings-item" id="settings-logout">
      <button id="settings-logout-btn" class="btn-negative">Logout</button>
    </div>
  </div>
</div>
<!-- GALLERY CARD CONTEXT MENU -->
<div id="gallery-card-menu" class="menu" style="display:none; position:absolute; z-index:1000;">
  <div class="modal-content">
    <button id="gallery-card-view-btn" class="settings-item" style="width:100%;text-align:left;"> 
      <img src="OtherImages/Icons/View.png" alt="View" style="width:20px;vertical-align:middle;margin-right:10px;"> View
    </button>
    <button id="gallery-card-create-btn" class="settings-item" style="width:100%;text-align:left;">
      <img src="OtherImages/Icons/Essence.png" alt="Create" style="width:20px;vertical-align:middle;margin-right:10px;"> Create
    </button>
    <button id="gallery-card-void-btn" class="settings-item" style="width:100%;text-align:left;">
      <img src="OtherImages/Icons/Void.png" alt="Void" style="width:20px;vertical-align:middle;margin-right:10px;"> Void
    </button>
  </div>
</div>
    <!-- DECK MENU -->
<div id="deck-menu" class="menu" style="display:none;">
  <div class="deck-menu-content">
    <div id="deck-banner-container">
      <img id="deck-banner-img" src="CardImages/Banners/DefaultBanner.png" alt="Deck Banner">
    </div>
    <div id="deck-title-row">
      <h3 id="deck-menu-title"></h3>
      <span id="deck-card-count"></span>
      <img id="deck-cardback-img" src="OtherImages/Cardbacks/DefaultCardback.png" alt="Deck Cardback">
    </div>
    <button id="edit-deck-btn" class="btn-primary">Edit Deck</button>
    <button id="view-deck-btn" class="btn-secondary">View Deck</button>
    <button id="set-highlight-art-btn" class="btn-secondary">Highlight Card</button>
    <button id="rename-deck-btn" class="btn-secondary">Rename</button>
    <button id="delete-deck-btn" class="btn-negative-secondary">Delete</button>
    <button id="close-deck-menu-btn" class="btn-negative-secondary">Cancel</button>
  </div>
</div>
  
<!-- SOUND EFFECTS -->  
<audio id="card-flip-sound" src="SoundEffects/CardFlip.mp3" preload="auto"></audio>
  
<!-- Firebase App (the core Firebase SDK) -->
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
<!-- Firebase Authentication -->
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
<script src="firebase.js"></script>
<!-- SERVER -->  
<script src="/socket.io/socket.io.js"></script>
<script src="client.js"></script>
<!-- LOGIN -->
<script src="auth.js"></script>
<!-- APP -->
<script src="particles.js"></script>
<script src="animations.js"></script>
<script src="shared.js"></script>
<script src="settings.js"></script>  
<script src="quest.js"></script>  
<script src="gallery.js"></script>
<script src="builder.js"></script>
<script src="gameplay.js"></script>
<script src="shop.js"></script> 
 
</body> 
</html>
