<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Elementa</title>
<link rel="stylesheet" href="style.css">
<link href="https://fonts.googleapis.com/css?family=Orbitron:wght@700&display=swap" rel="stylesheet">
</head>
<body>
<header>
     <h1>Elementa</h1>
    <nav id="main-nav">
      <button id="gallery-btn" class="btn-primary" data-section="gallery-section">Gallery</button>
      <button id="builder-btn" class="btn-primary" data-section="builder-section">Deck Builder</button>
      <button id="gameplay-btn" class="btn-primary" data-section="gameplay-section">Start Game</button>
      <button id="shop-btn" class="btn-primary" data-section="shop-section">Shop</button>
    </nav>
<div id="profile-area">
  <img id="profile-pic" src="CardImages/Avatars/Default.png" alt="Profile">
</div>
<div id="profile-menu" class="hidden">
  <!-- LOGGED OUT VIEW -->
  <div id="profile-auth-section">
    <form id="profile-auth-form">
      <input type="text" id="profile-username-input" placeholder="Username" maxlength="20" autocomplete="username">
      <input type="email" id="profile-email-input" placeholder="Email" autocomplete="email">
      <input type="password" id="profile-password-input" placeholder="Password" autocomplete="current-password">
      <button id="profile-login-btn" class="btn-primary" type="submit">Login</button>
      <button id="profile-signup-btn" class="btn-primary" type="button">Sign Up</button>
    </form>
    <div id="profile-auth-error" style="color:red;"></div>
  </div>
  <!-- LOGGED IN VIEW -->
  <div id="profile-account-section" class="hidden">
    <div id="profile-info">
      <div id="profile-username-display"></div>
    </div>
    <button id="change-profile-btn" class="btn-primary">Profile Pic</button>
    <button id="profile-logout-btn" class="btn-negative">Logout</button>
  </div>
</div>
<!-- PROFILE ICONS MENU -->
<div id="profile-icon-modal" class="modal" style="display:none;">
  <div id="profile-icon-modal-content" class="modal-content">
    <h3>Choose your Avatar</h3>
    <div id="profile-icons"></div>
    <button id="close-profile-icon-modal" class="btn-negative" style="margin-top:14px;">Cancel</button>
  </div>
</div>
</header>
            <!-- GALLERY -->
<section id="gallery-section" style="display:none;"> ... </section> 
            <!-- DECK BUILDER -->
<section id="builder-section">  
<div id="builder-container"> 
  <!-- DECK SLOTS -->
  <div id="deck-slot-selector" style="margin: 1em;">
    <label for="deck-slot-select">Deck Slot:</label>
    <select id="deck-slot-select"></select>
    <button id="add-deck-slot-btn" class="icon-btn">+</button>
    <button id="delete-deck-slot-btn" class="icon-btn-negative" title="Delete Deck Slot">
      <svg class="trash-icon" viewBox="0 0 20 20" width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
        <path d="M6.25 7.5V15M10 7.5V15M13.75 7.5V15M2.5 5H17.5M4.167 5V16.25C4.167 16.6642 4.33594 17.0617 4.63223 17.3579C4.92852 17.6542 5.32609 17.8231 5.74026 17.8231H14.2597C14.6739 17.8231 15.0715 17.6542 15.3678 17.3579C15.6641 17.0617 15.833 16.6642 15.833 16.25V5M7.083 2.5H12.917C13.3312 2.5 13.7287 2.66894 14.025 2.96523C14.3213 3.26152 14.4903 3.65909 14.4903 4.07326V5H5.50974V4.07326C5.50974 3.65909 5.67868 3.26152 5.97497 2.96523C6.27126 2.66894 6.66883 2.5 7.083 2.5Z" stroke="#d32f2f" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
    <button id="toggle-deck-btn" class="btn-primary">Toggle Deck</button>
  </div>
  <!-- FILTER GALLERY -->
  <div id="filters" class="filter-row" style="margin: 1em;">
    <label>
      Name:
      <input type="text" id="filter-name" placeholder="Search by name..." />
    </label>
    <label>Color:
      <select id="filter-color" class="filter-select">
        <option value="">All</option>
        <option value="green">Green</option>
        <option value="red">Red</option>
        <option value="blue">Blue</option>
        <option value="gray">Gray</option>
        <option value="purple">Purple</option>
        <option value="yellow">Yellow</option>
        <option value="black">Black</option>
        <option value="white">White</option>
      </select>
    </label>
  <label>Category:
  <select id="filter-category" class="filter-select">
    <option value="">All</option>
    <option value="creature">Creature</option>
    <option value="artifact">Artifact</option>
    <option value="spell">Spell</option>
    <option value="domain">Domain</option>
  </select>
  </label>
    <label>Type:
      <select id="filter-type" class="filter-select">
        <option value="">All</option>
        <option value="evolution">Evolution</option>
        <option value="fusion">Fusion</option>
        <option value="elemental">Elemental</option>
        <option value="dragon">Dragon</option>
        <option value="construct">Construct</option>
        <option value="beast">Beast</option>
        <option value="undead">Undead</option>
        <option value="demon">Demon</option>
        <option value="mage">Mage</option>
        <option value="equipment">Equipment</option>
        <option value="relic">Relic</option>
      </select>
    </label>
    <label>Rarity:
      <select id="filter-rarity" class="filter-select">
        <option value="">All</option>
        <option value="Basic">Basic</option>
        <option value="Common">Common</option>
        <option value="Rare">Rare</option>
        <option value="Legendary">Legendary</option>
      </select>
    </label>
    <label>Archetype:
      <select id="filter-archetype" class="filter-select">
        <option value="">All</option>
        <option value="Blazefeather">Blazefeather</option>
        <option value="Cindercore">Cindercore</option>
        <option value="Coralbound">Coralbound</option>
        <option value="Frostlands">Frostlands</option>
        <option value="Golemheart">Golemheart</option>
        <option value="Moonfang">Moonfang</option>
        <option value="Skullframe">Skullframe</option>
        <option value="Voltwing">Voltwing</option>
        <option value="Zephyra">Zephyra</option>
      </select>
    </label>
    <label>Ability:
      <select id="filter-ability" class="filter-select">
        <option value="">All</option>
        <option value="ambush">Ambush</option>
        <option value="dive">Dive</option>
        <option value="burn">Burn</option>
        <option value="drain">Drain</option>
        <option value="elusive">Elusive</option>
        <option value="flying">Flying</option>
        <option value="ice armor">Ice Armor</option>
        <option value="immunity">Immunity</option>
        <option value="intimidate">Intimidate</option>
        <option value="leap">Leap</option>
        <option value="lifelink">Lifelink</option>
        <option value="protect">Protect</option>
        <option value="provoke">Provoke</option>
        <option value="ranged">Ranged</option>
        <option value="rush">Rush</option>
        <option value="toxic">Toxic</option>
      </select>
    </label>
  </div>
  <div class="container" id="card-gallery"></div>
  <div class="deck">
    <h2 id="deck-title">Your Deck</h2>
    <ul class="deck-list" id="deck-list"></ul>
    <p>Total Cards: <span id="card-count">0</span>/50</p>
    <button id="deck-rename-btn" class="btn-primary" style="margin-bottom: 10px;">Rename Deck</button>
    <button id="reset-deck-btn" class="btn-negative">Reset Deck</button>
  </div>
</div>
</section>
                    <!-- SHOP -->
<section id="shop-section" style="display:none;">
<div id="shop-container" style="display:none;">
  <h2>Shop</h2>
  <div id="pack-options">
    <!-- Example pack buttons -->
    <button id="booster-btn" class="btn-primary" data-pack="standard">Standard Pack (Free)</button>
  </div>
  <div id="pack-opening-area"></div>
  <button id="close-shop-btn" class="btn-secondary">Back</button>
</div>
</section>
  
<section id="gameplay-section" style="display:none;">  
                  <!-- BATTLEFIELD UI -->  
<div id="battlefield-container" style="display:none;"> 
  <div id="battlefield">
    <!-- LOBBY UI -->
    <div id="lobby-ui" style="display:none;">
      <button id="create-btn" class="btn-primary">Create Game</button>
      <input id="room-code-input" placeholder="Enter code to join...">
      <button id="join-btn" class="btn-primary">Join Game</button>
      <div id="status"></div>
    </div>
    <!-- CHAT UI -->
    <div id="chat-ui" style="display:none;">
      <input id="chat-input" placeholder="Type message...">
      <button id="send-chat-btn">Send</button>
      <div id="chat-log"></div>
    </div>
    
    <!-- OPPONENT HAND -->
    <div class="hand-area first-hand-area" id="opponent-hand"></div>
    <!-- OPPONENT ZONES -->
    <div class="zone-row" id="opponent-domains-zone"></div>
    <div class="zone-row" id="opponent-creatures-zone"></div>
        <!-- PHASE BAR -->
    <div class="phase-bar" id="phase-bar">
      <div id="phase-display">
        <span class="label">Turn:</span>
        <span class="player" id="phase-player">player</span>
        <span class="label phase-sep">|</span>
        <span class="label">Phase:</span>
        <span class="phase" id="phase-name">draw</span>
        <button id="next-phase-btn" title="Next Phase" style="margin-left:16px;">‚è≠</button>
      </div>
    </div>
    <!-- PLAYER CREATURE ZONES AND VOID -->
    <div class="zone-row" id="player-creatures-zone"></div>
    <!-- PLAYER DOMAIN ZONES AND DECK -->
    <div class="zone-row" id="player-domains-zone"></div>
        <!-- PLAYER HAND-->
    <div class="hand-area second-hand-area" id="player-hand"></div>
  </div>
</div>
<!-- Modal for full image view -->
<div id="deck-selection-modal"></div>
  <!-- DECK MODAL -->
<div id="deck-modal" class="modal">
  <div class="modal-content">
    <div class="modal-card-list"></div>
  </div>
</div>
  <!-- VOID MODAL -->
<div id="void-modal" class="modal">
  <div class="modal-content">
    <h3>Void</h3>
    <div class="modal-card-list"></div>
  </div>
</div>
</section>
  
<!-- SHOW FULL IMAGE -->
  <div id="image-modal" class="modal" style="display:none;">
    <div id="modal-img-content"></div>
  </div>  
<!-- Firebase App (the core Firebase SDK) -->
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
<!-- Firebase Authentication -->
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
<script src="firebase.js"></script>
<!-- APP -->
<script src="shared.js"></script>
<script src="gallery.js"></script>
<script src="gameplay.js"></script>
<!-- LOGIN -->
<script src="auth.js"></script>  
<!-- SERVER -->  
<script src="/socket.io/socket.io.js"></script>
<script src="client.js"></script>
</body> 
</html>
